Task:
Write a function named get_employee_status that returns 'ACTIVE' if an employee is working (i.e., termination_date is NULL) and 'INACTIVE' if not.

Input Parameter:

p_emp_id IN NUMBER

Return:

VARCHAR2 â†’ 'ACTIVE' or 'INACTIVE'

If the employee ID doesn't exist, return 'NOT FOUND'

CREATE OR REPLACE FUNCTION get_employee_status(p_emp_id IN NUMBER)
RETURN VARCHAR2
AS
  v_status VARCHAR2(20);
  v_termination_date DATE;
BEGIN
  -- Fetch termination date for the given employee
  SELECT termination_date
  INTO v_termination_date
  FROM employees
  WHERE employee_id = p_emp_id;

  -- Determine status based on termination_date
  IF v_termination_date IS NULL THEN
    v_status := 'ACTIVE';
  ELSE
    v_status := 'INACTIVE';
  END IF;

  RETURN v_status;

EXCEPTION
  WHEN NO_DATA_FOUND THEN
    RETURN 'NOT FOUND';
END;
/
