TASK: Write a function to return total salary of a given department.

EXCEPTIONS: If no data present then return 0
            If wrong input retutn error message with -1

CREATE OR REPLACE FUNCTION dept_total_salary(v_dept_id NUMBER) 
RETURN NUMBER
AS
  v_sal NUMBER;
BEGIN
  SELECT SUM(salary)
  INTO v_sal
  FROM employees
  WHERE dept_id = v_dept_id;

  RETURN v_sal;
EXCEPTION
  WHEN NO_DATA_FOUND THEN
    RETURN 0;
  WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE('Error: ' || SQLERRM);
    RETURN -1;
END;
/


--To call function

SELECT dept_total_salary(10) AS total_dept_salary
FROM dual;
 
or

DECLARE
  total_sal NUMBER;
BEGIN
  total_sal := dept_total_salary(10);
  DBMS_OUTPUT.PUT_LINE('Total Salary of Dept 10: ' || total_sal);
END;
/
